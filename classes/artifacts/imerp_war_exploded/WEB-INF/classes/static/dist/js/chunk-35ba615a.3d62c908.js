(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-35ba615a","chunk-3480aaae","chunk-2d2311d8"],{"448f":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("d2-container",{staticClass:"mod-sys__user"},[a("el-collapse",{attrs:{slot:"header"},slot:"header",model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[t._v("\n                    查询条件"),a("i",{staticClass:"el-icon-d-arrow-right"})]),a("el-form",{ref:"dataForm",attrs:{inline:!0,size:"mini",model:t.dataForm},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}}},[a("el-form-item",{attrs:{prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择单位类型"},model:{value:t.dataForm.type,callback:function(e){t.$set(t.dataForm,"type",e)},expression:"dataForm.type"}},[a("el-option",{attrs:{label:"客户",value:"CUST"}}),a("el-option",{attrs:{label:"供应商",value:"VENDOR"}}),a("el-option",{attrs:{label:"物流公司",value:"SUP"}})],1)],1),a("el-form-item",{attrs:{prop:"name"}},[a("el-input",{attrs:{placeholder:t.data.form.input.name,clearable:""},model:{value:t.dataForm.name,callback:function(e){t.$set(t.dataForm,"name",e)},expression:"dataForm.name"}})],1),a("el-form-item",{attrs:{prop:"tel"}},[a("el-input",{attrs:{placeholder:t.data.form.input.tel,clearable:""},model:{value:t.dataForm.tel,callback:function(e){t.$set(t.dataForm,"tel",e)},expression:"dataForm.tel"}})],1),a("el-form-item",{attrs:{prop:"pic"}},[a("el-input",{attrs:{placeholder:t.data.form.input.pic,clearable:""},model:{value:t.dataForm.pic,callback:function(e){t.$set(t.dataForm,"pic",e)},expression:"dataForm.pic"}})],1),a("el-form-item",[a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:t.search}},[t._v(t._s(t.$t("views.public.query"))+"\n                        ")])],1),a("el-form-item",[a("el-button",{on:{click:t.handleFormReset}},[a("d2-icon",{attrs:{name:"refresh"}}),t._v("\n                            重置\n                        ")],1)],1)],1)],2)],1),a("vxe-grid",{ref:"pGrid",attrs:{border:"",resizable:"","highlight-current-row":"","remote-filter":"",size:"mini","row-id":"id",toolbar:t.toolbar,"proxy-config":t.tableProxy,columns:t.columns,"select-config":{reserve:!0},"edit-config":{trigger:"click",mode:"row",showStatus:!0},"tree-config":{children:"children"}},on:{"cell-dblclick":t.cellDblClick},scopedSlots:t._u([{key:"buttons",fn:function(){return[a("el-button",{ref:"btnAdd",attrs:{size:"mini",icon:"el-icon-circle-plus"},on:{click:t.addHandle}},[t._v("新增\n                ")]),a("el-button",{ref:"btnEdit",attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(e){return t.updateHandle(t.$refs.pGrid)}}},[t._v("修改\n                ")])]},proxy:!0}])}),a("el-pagination",{attrs:{slot:"footer","current-page":t.page,"page-sizes":[10,20,50,100],"page-size":t.limit,total:t.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":function(e){return t.pageSizeChangeHandle(e,"vxe")},"current-change":function(e){return t.pageCurrentChangeHandle(e,"vxe")}},slot:"footer"}),t.addOrUpdateVisible?a("add-or-update",{ref:"addOrUpdate",on:{refreshDataList:t.search}}):t._e()],1)},o=[],i=(a("cc57"),a("e1a58")),n=a("9238"),l=a("eebd"),s={name:"cust",mixins:[i["a"]],data:function(){return{activeName:"1",data:l,mixinViewModuleOptions:{getDataListURL:"/base/cust/list",getDataListIsPage:!0,deleteURL:"/base/cust/delete",deleteIsBatch:!0},dataForm:{custVendor:void 0,custno:void 0,custname:void 0,isActive:void 0,relation:void 0,custtype:void 0,ownerareatext:void 0,purchaser:void 0,pinyinCode:void 0,remark:void 0},vendor:{CUST:"顾客",VENDOR:"供应商"},columns:[{type:"index",width:30},{title:"单位类型",field:"custVendor",sortable:!0,align:"center",width:"120px",formatter:this.flagSelector},{title:"客户编码",field:"custno",sortable:!0,align:"center",width:"120px"},{title:"客户名称",field:"custname",sortable:!0,align:"center",width:"150px"},{title:"客户标识",field:"custidentify",sortable:!0,align:"center",width:"150px"},{title:"联系人",field:"contactperson",sortable:!0,align:"center",width:"70px"},{title:"联系电话",field:"contactphone",sortable:!0,align:"center",width:"120px"},{title:"客户地址",field:"custadd",sortable:!0,align:"center",width:"120px"},{title:"客户类型",field:"custtype",sortable:!0,align:"center",width:"120px"},{title:"关联关系",field:"relation",sortable:!0,align:"center",width:"130px"},{title:"是否活动",field:"isActive",sortable:!0,align:"center",width:"120px"},{title:"所属大区",field:"ownerareatext",sortable:!0,align:"center",width:"80px"},{title:"采购员",field:"purchaser",sortable:!0,align:"center",width:"120px"},{title:"业务员",field:"businessman",sortable:!0,align:"center",width:"120px"},{title:"开票员",field:"mainopname",sortable:!0,align:"center",width:"120px"},{title:"拼音码",field:"pinyinCode",sortable:!0,align:"center",width:"120px"},{title:"创建日期",field:"createDate",sortable:!0,align:"center",width:"120px",formatter:["toDateString","yyyy-MM-dd"]},{title:"备注",field:"remark",width:"200px",sortable:!0,align:"center"},{title:"修改人",field:"updateBy",sortable:!0,align:"center",width:"120px"},{title:"修改日期",field:"updateDate",sortable:!0,align:"center",width:"200px",formatter:["toDateString","yyyy-MM-dd"]}],toolbar:{id:"full_edit_1",refresh:!0,resizable:{storage:!0},setting:{storage:!0}}}},components:{AddOrUpdate:n["default"]},methods:{handleFormReset:function(){this.$refs["dataForm"].resetFields()},flagSelector:function(t){var e=t.cellValue;return"CUST"===e?"客户":"供应商"},addContact:function(t){if(!t.getCurrentRow())return this.$message({message:"请选择要要补充信息的记录",type:"warning"});var e=t.getCurrentRow().id,a=t.getCurrentRow().name;this.$router.push({name:"base-contact",params:{custId:e,custName:a}})}}},d=s,c=a("623f"),u=function(t){t.options.__source="src/views/base/cust/index.vue"},m=u,p=Object(c["a"])(d,r,o,!1,null,null,null);"function"===typeof m&&m(p);e["default"]=p.exports},9238:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.visible,title:t.isNew?t.$t("views.public.add"):t.$t("views.public.update"),"close-on-click-modal":!1,"close-on-press-escape":!1,width:"55%"},on:{"update:visible":function(e){t.visible=e}}},[a("el-form",{ref:"dataForm",staticClass:"tb-matthew",attrs:{model:t.dataForm,rules:t.rules,"label-width":"120px",inline:!0,labelSuffix:"：",size:"mini"}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{prop:"id"}}),a("el-form-item",{attrs:{prop:"custVendor",label:t.data.form.input.custVendor}},[a("el-radio-group",{staticStyle:{width:"400px"},model:{value:t.dataForm.custVendor,callback:function(e){t.$set(t.dataForm,"custVendor",e)},expression:"dataForm.custVendor"}},[a("el-radio",{attrs:{label:"CUST"}},[t._v("客户")]),a("el-radio",{attrs:{label:"VENDOR"}},[t._v("供应商")])],1)],1),a("el-form-item",{attrs:{prop:"custno",label:t.data.form.input.custno}},[a("el-input",{attrs:{placeholder:t.data.form.input.custno,disabled:t.dataForm.id},model:{value:t.dataForm.custno,callback:function(e){t.$set(t.dataForm,"custno",e)},expression:"dataForm.custno"}})],1),a("el-form-item",{attrs:{prop:"custname",label:t.data.form.input.custname}},[a("el-input",{attrs:{placeholder:t.data.form.input.custname,disabled:t.dataForm.id},model:{value:t.dataForm.custname,callback:function(e){t.$set(t.dataForm,"custname",e)},expression:"dataForm.custname"}})],1),a("el-form-item",{attrs:{prop:"custidentify",label:t.data.form.input.custidentify}},[a("el-input",{attrs:{placeholder:t.data.form.input.custidentify,disabled:t.dataForm.id},model:{value:t.dataForm.custidentify,callback:function(e){t.$set(t.dataForm,"custidentify",e)},expression:"dataForm.custidentify"}})],1),a("el-form-item",{attrs:{prop:"contactperson",label:t.data.form.input.contactperson}},[a("el-input",{attrs:{placeholder:t.data.form.input.contactperson},model:{value:t.dataForm.contactperson,callback:function(e){t.$set(t.dataForm,"contactperson",e)},expression:"dataForm.contactperson"}})],1),a("el-form-item",{attrs:{prop:"contactphone",label:t.data.form.input.contactphone}},[a("el-input",{attrs:{placeholder:t.data.form.input.contactphone},model:{value:t.dataForm.contactphone,callback:function(e){t.$set(t.dataForm,"contactphone",e)},expression:"dataForm.contactphone"}})],1),a("el-form-item",{attrs:{prop:"custadd",label:t.data.form.input.custadd}},[a("el-input",{attrs:{placeholder:t.data.form.input.custadd},model:{value:t.dataForm.custadd,callback:function(e){t.$set(t.dataForm,"custadd",e)},expression:"dataForm.custadd"}})],1),a("el-form-item",{attrs:{prop:"custtype",label:t.data.form.input.custtype}},[a("el-input",{attrs:{placeholder:t.data.form.input.custtype,disabled:t.dataForm.id},model:{value:t.dataForm.custtype,callback:function(e){t.$set(t.dataForm,"custtype",e)},expression:"dataForm.custtype"}})],1),a("el-form-item",{attrs:{prop:"relation",label:t.data.form.input.relation}},[a("el-input",{attrs:{placeholder:t.data.form.input.relation,disabled:t.dataForm.id},model:{value:t.dataForm.relation,callback:function(e){t.$set(t.dataForm,"relation",e)},expression:"dataForm.relation"}})],1),a("el-form-item",{attrs:{prop:"isActive",label:t.data.form.input.isActive}},[a("el-input",{attrs:{placeholder:t.data.form.input.isActive},model:{value:t.dataForm.isActive,callback:function(e){t.$set(t.dataForm,"isActive",e)},expression:"dataForm.isActive"}})],1),a("el-form-item",{attrs:{prop:"ownerareatext",label:t.data.form.input.ownerareatext}},[a("el-input",{attrs:{placeholder:t.data.form.input.ownerareatext},model:{value:t.dataForm.ownerareatext,callback:function(e){t.$set(t.dataForm,"ownerareatext",e)},expression:"dataForm.ownerareatext"}})],1),a("el-form-item",{attrs:{prop:"purchaser",label:t.data.form.input.purchaser}},[a("el-input",{attrs:{placeholder:t.data.form.input.purchaser},model:{value:t.dataForm.purchaser,callback:function(e){t.$set(t.dataForm,"purchaser",e)},expression:"dataForm.purchaser"}})],1),a("el-form-item",{attrs:{prop:"businessman",label:t.data.form.input.businessman}},[a("el-input",{attrs:{placeholder:t.data.form.input.businessman},model:{value:t.dataForm.businessman,callback:function(e){t.$set(t.dataForm,"businessman",e)},expression:"dataForm.businessman"}})],1),a("el-form-item",{attrs:{prop:"mainopname",label:t.data.form.input.mainopname}},[a("el-input",{attrs:{placeholder:t.data.form.input.mainopname},model:{value:t.dataForm.mainopname,callback:function(e){t.$set(t.dataForm,"mainopname",e)},expression:"dataForm.mainopname"}})],1),a("el-form-item",{attrs:{prop:"remark",label:t.data.form.input.remark}},[a("el-input",{attrs:{placeholder:t.data.form.input.remark},model:{value:t.dataForm.remark,callback:function(e){t.$set(t.dataForm,"remark",e)},expression:"dataForm.remark"}})],1),a("el-form-item",{attrs:{prop:"companyId",label:t.data.form.input.companyId}},[a("el-input",{attrs:{placeholder:t.data.form.input.companyId,disabled:t.dataForm.id},model:{value:t.dataForm.companyId,callback:function(e){t.$set(t.dataForm,"companyId",e)},expression:"dataForm.companyId"}})],1)],1),a("template",{slot:"footer"},[a("el-button",{on:{click:function(e){t.visible=!1}}},[t._v(t._s(t.$t("views.public.cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:t.dataFormSubmit}},[t._v(t._s(t.$t("views.public.confirm")))])],1)],2)},o=[],i=a("eebd"),n=a("e1a58"),l={mixins:[n["a"]],data:function(){var t=function(t,e,a){if(e){var r=/0?(13|14|15|17|18|19)[0-9]{9}/;r.test(e)?a():a(new Error("电话格式不正确"))}else a()};return{mixinViewModuleOptions:{getDataListURL:"/base/cust/list",updateURL:"/base/cust/save",getDataListIsPage:!1,activatedIsNeed:!1},data:i,visible:!1,dataForm:{id:void 0,custVendor:"CUST",custno:void 0,custname:void 0,custidentify:void 0,contactperson:void 0,contactphone:void 0,custadd:void 0,custtype:void 0,relation:void 0,isActive:void 0,ownerareatext:void 0,purchaser:void 0,businessman:void 0,mainopname:void 0,remark:void 0},rules:{custname:[{required:!0,message:"名称不可缺少"}],contactphone:[{validator:t,trigger:"blur"}]}}},methods:{dataFormSubmitHandle:function(){var t=this,e=this;this.$refs["dataForm"].validate((function(a){if(!a)return!1;e.$axios({url:"/base/cust/save",method:"post",data:e.dataForm}).then((function(e){t.$message({message:t.$t("views.public.success"),type:"success",duration:500,onClose:function(){t.visible=!1,t.$emit("refreshDataList")}})})).catch((function(){}))}))}}},s=l,d=(a("deca"),a("623f")),c=function(t){t.options.__source="src/views/base/cust/add-or-update.vue"},u=c,m=Object(d["a"])(s,r,o,!1,null,null,null);"function"===typeof u&&u(m);e["default"]=m.exports},d1b8:function(t,e,a){},deca:function(t,e,a){"use strict";var r=a("d1b8"),o=a.n(r);o.a},eebd:function(t){t.exports=JSON.parse('{"form":{"input":{"custVendor":"单位类型","custno":"客户编号","custname":"客户名称","custidentify":"客户标识","contactperson":"联系人","contactphone":"联系电话","custadd":"客户地址","custtype":"客户类型","relation":"关联关系","isActive":"是否活动","businessscopecode":"经营简码","ownerareatext":"所属大区","purchaser":"采购员","businessman":"业务员","mainopname":"开票员","pinyinCode":"拼音码","createDate":"创建日期","companyId":"公司ID","remark":"备注","createBy":"创建人"}}}')}}]);