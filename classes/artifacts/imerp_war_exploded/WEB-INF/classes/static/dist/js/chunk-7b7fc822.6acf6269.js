(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b7fc822","chunk-1ef9f7c8","chunk-2d0cca09"],{1918:function(e,t,a){"use strict";var i=a("9dd7"),r=a.n(i);r.a},"30f1":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,title:e.isNew?e.$t("views.public.add"):e.$t("views.public.update"),"close-on-click-modal":!1,"close-on-press-escape":!1,width:"55%"},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{ref:"dataForm",staticClass:"tb-matthew",attrs:{model:e.dataForm,rules:e.rules,"label-width":"120px",inline:!0,labelSuffix:"：",size:"mini"}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{prop:"id"}}),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{prop:"custName"}}),a("el-form-item",{attrs:{label:"单位",prop:"custId"}},[a("im-selector",{attrs:{placeholder:"请选择往来单位",mapModel:e.dataForm,mapKeyVal:"custName:custId",dataType:"biz.customer",disabled:e.dataForm.id},on:{"update:mapModel":function(t){e.dataForm=t},"update:map-model":function(t){e.dataForm=t}},model:{value:e.dataForm.custId,callback:function(t){e.$set(e.dataForm,"custId",t)},expression:"dataForm.custId"}})],1),a("el-form-item",{attrs:{prop:"name",label:e.data.form.input.name}},[a("el-input",{attrs:{placeholder:e.data.form.input.name},model:{value:e.dataForm.name,callback:function(t){e.$set(e.dataForm,"name",t)},expression:"dataForm.name"}})],1),a("el-form-item",{attrs:{prop:"shortName",label:e.data.form.input.shortName}},[a("el-input",{attrs:{placeholder:e.data.form.input.shortName},model:{value:e.dataForm.shortName,callback:function(t){e.$set(e.dataForm,"shortName",t)},expression:"dataForm.shortName"}})],1),a("el-form-item",{attrs:{prop:"linkman",label:e.data.form.input.linkman}},[a("el-input",{attrs:{placeholder:e.data.form.input.linkman},model:{value:e.dataForm.linkman,callback:function(t){e.$set(e.dataForm,"linkman",t)},expression:"dataForm.linkman"}})],1),a("el-form-item",{attrs:{prop:"mobileNo",label:e.data.form.input.mobileNo}},[a("el-input",{attrs:{placeholder:e.data.form.input.mobileNo},model:{value:e.dataForm.mobileNo,callback:function(t){e.$set(e.dataForm,"mobileNo",e._n(t))},expression:"dataForm.mobileNo"}})],1),a("el-form-item",{attrs:{prop:"tel",label:e.data.form.input.tel}},[a("el-input",{attrs:{placeholder:e.data.form.input.tel},model:{value:e.dataForm.tel,callback:function(t){e.$set(e.dataForm,"tel",e._n(t))},expression:"dataForm.tel"}})],1),a("el-form-item",{attrs:{prop:"weixinNo",label:e.data.form.input.weixinNo}},[a("el-input",{attrs:{placeholder:e.data.form.input.weixinNo},model:{value:e.dataForm.weixinNo,callback:function(t){e.$set(e.dataForm,"weixinNo",t)},expression:"dataForm.weixinNo"}})],1),a("el-form-item",{attrs:{prop:"email",label:e.data.form.input.email}},[a("el-input",{attrs:{placeholder:e.data.form.input.email},model:{value:e.dataForm.email,callback:function(t){e.$set(e.dataForm,"email",t)},expression:"dataForm.email"}})],1),a("el-form-item",{attrs:{prop:"remark",label:e.data.form.input.remark}},[a("el-input",{attrs:{placeholder:e.data.form.input.remark},model:{value:e.dataForm.remark,callback:function(t){e.$set(e.dataForm,"remark",t)},expression:"dataForm.remark"}})],1)],1),a("template",{slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v(e._s(e.$t("views.public.cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:e.dataFormSubmit}},[e._v(e._s(e.$t("views.public.confirm")))])],1)],2)},r=[],o=a("4f78"),l=a("e1a58"),n={mixins:[l["a"]],data:function(){var e=function(e,t,a){if(t){var i=/^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$/;i.test(t)?a():a(new Error("手机号码格式不正确"))}else a()},t=function(e,t,a){if(t){var i=/\d{3}-\d{8}|\d{4}-\d{7}/;i.test(t)?a():a(new Error("电话格式不正确"))}else a()},a=function(e,t,a){if(t){var i=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;i.test(t)?a():a(new Error("邮箱格式不正确"))}else a()},i=function(e,t,a){if(t){var i=/^[a-zA-Z\d_]{5,}$/;i.test(t)?a():a(new Error("微信号格式不正确"))}else a()};return{mixinViewModuleOptions:{getDataListURL:"/base/custcontact/list",updateURL:"/base/custcontact/save",getDataListIsPage:!1,activatedIsNeed:!1},data:o,visible:!1,count:0,dataForm:{id:void 0,custId:void 0,custName:void 0,name:void 0,shortName:void 0,linkman:void 0,mobileNo:void 0,tel:void 0,weixinNo:void 0,email:void 0,remark:void 0},rules:{name:[{required:!0,message:"名称不可缺少"}],code:[{required:!0,message:"编码不可缺少"}],mobileNo:[{validator:e,trigger:"blur"}],tel:[{validator:t,trigger:"blur"}],email:[{validator:a,trigger:"blur"}],weixinNo:[{validator:i,trigger:"blur"}]},vendor:{remoteURL:"/common/biz/list",loading:!1,dataList:[],timeout:null}}},methods:{reset:function(){var e=this;this.$nextTick((function(){e.$refs["dataForm"].resetFields()}))}}},s=n,m=(a("1918"),a("623f")),d=function(e){e.options.__source="src/views/base/contact/add-or-update.vue"},c=d,u=Object(m["a"])(s,i,r,!1,null,null,null);"function"===typeof c&&c(u);t["default"]=u.exports},"4f78":function(e){e.exports=JSON.parse('{"form":{"input":{"custName":"往来单位","name":"姓名","shortName":"职务","linkman":"首要联系人","mobileNo":"手机","tel":"办公电话","weixinNo":"微信号","email":"邮箱","remark":"备注"}}}')},"75b4":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("d2-container",{staticClass:"mod-sys__user"},[a("el-collapse",{attrs:{slot:"header"},slot:"header",model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[e._v("\n                    查询条件"),a("i",{staticClass:"el-icon-d-arrow-right"})]),a("el-form",{ref:"dataForm",attrs:{inline:!0,size:"mini",model:e.dataForm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}}},[a("el-form-item",{attrs:{prop:"custName"}},[a("el-input",{attrs:{placeholder:e.data.form.input.custName,clearable:""},model:{value:e.dataForm.custName,callback:function(t){e.$set(e.dataForm,"custName",t)},expression:"dataForm.custName"}})],1),a("el-form-item",{attrs:{prop:"name"}},[a("el-input",{attrs:{placeholder:e.data.form.input.name,clearable:""},model:{value:e.dataForm.name,callback:function(t){e.$set(e.dataForm,"name",t)},expression:"dataForm.name"}})],1),a("el-form-item",{attrs:{prop:"shortName"}},[a("el-input",{attrs:{placeholder:e.data.form.input.shortName,clearable:""},model:{value:e.dataForm.shortName,callback:function(t){e.$set(e.dataForm,"shortName",t)},expression:"dataForm.shortName"}})],1),a("el-form-item",{attrs:{prop:"mobileNo"}},[a("el-input",{attrs:{placeholder:e.data.form.input.mobileNo,clearable:""},model:{value:e.dataForm.mobileNo,callback:function(t){e.$set(e.dataForm,"mobileNo",t)},expression:"dataForm.mobileNo"}})],1),a("el-form-item",[a("el-button",{ref:"btnSearch",attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.search}},[e._v(e._s(e.$t("views.public.query"))+"\n                        ")])],1),a("el-form-item",[a("el-button",{on:{click:e.handleFormReset}},[a("d2-icon",{attrs:{name:"refresh"}}),e._v("\n                            重置\n                        ")],1)],1)],1)],2)],1),a("vxe-grid",{ref:"pGrid",attrs:{border:"",resizable:"","highlight-current-row":"","remote-filter":"",size:"mini","row-id":"id",toolbar:e.toolbar,"proxy-config":e.tableProxy,columns:e.columns,"select-config":{reserve:!0},"edit-config":{trigger:"click",mode:"row",showStatus:!0},"tree-config":{children:"children"}},on:{"cell-dblclick":e.cellDblClick},scopedSlots:e._u([{key:"buttons",fn:function(){return[a("el-button",{ref:"btnAdd",attrs:{size:"mini",icon:"el-icon-circle-plus"},on:{click:e.addHandle}},[e._v("新增\n                ")]),a("el-button",{ref:"btnEdit",attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(t){return e.updateHandle(e.$refs.pGrid)}}},[e._v("修改\n                ")]),a("el-button",{ref:"btnDelete",attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(t){return e.deleteHandleSetter(e.$refs.pGrid)}}},[e._v("删除\n                ")])]},proxy:!0}])}),a("el-pagination",{attrs:{slot:"footer","current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.limit,total:e.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":function(t){return e.pageSizeChangeHandle(t,"vxe")},"current-change":function(t){return e.pageCurrentChangeHandle(t,"vxe")}},slot:"footer"}),e.addOrUpdateVisible?a("add-or-update",{ref:"addOrUpdate",on:{refreshDataList:e.search}}):e._e()],1)},r=[],o=a("e1a58"),l=a("30f1"),n=a("4f78"),s={name:"contact",mixins:[o["a"]],data:function(){var e=this;return{activeName:"1",data:n,pathId:void 0,mixinViewModuleOptions:{getDataListURL:"/base/custcontact/list",getDataListIsPage:!0,deleteURL:"/base/custcontact/delete",deleteIsBatch:!0},dataForm:{name:void 0,mobileNo:void 0,custName:void 0,shortName:void 0},rowHandler:{width:"160px",custom:[{text:this.$t("views.public.update"),type:"primary",size:"mini",emit:"user-update",show:function(t,a){return e.$hasPermission("sys:user:update")}},{text:this.$t("views.public.delete"),type:"danger",size:"mini",emit:"user-delete",show:function(t,a){return e.$hasPermission("sys:user:delete")}}]},toolbar:{id:"full_edit_1",refresh:!0,resizable:{storage:!0},setting:{storage:!0}},columns:[{type:"index",width:30},{title:"单位",field:"custName",sortable:!0,align:"center",width:"110px"},{title:"姓名",field:"name",sortable:!0,align:"center",width:"160px"},{title:"职务",field:"shortName",sortable:!0,align:"center",width:"160px"},{title:"首要联系人",field:"linkman",sortable:!0,align:"center",width:"160px"},{title:"手机",field:"mobileNo",sortable:!0,align:"center",width:"160px"},{title:"办公电话",field:"tel",sortable:!0,align:"center",width:"120px"},{title:"微信号",field:"weixinNo",sortable:!0,align:"center",width:"110px"},{title:"邮箱",field:"email",sortable:!0,align:"center"},{title:"备注",field:"remark",sortable:!0,align:"center"},{title:"修改人",field:"updateBy",sortable:!0,align:"center",width:"110px"},{title:"修改日期",field:"updateDate",sortable:!0,align:"center",width:"110px",formatter:["toDateString","yyyy-MM-dd"]}]}},components:{AddOrUpdate:l["default"]},methods:{handleFormReset:function(){this.$refs["dataForm"].resetFields(),this.dataForm.custName=void 0}},created:function(){this.$route.params.custId&&(this.dataForm.custName=this.$route.params.custName,this.$nextTick((function(){})))}},m=s,d=a("623f"),c=function(e){e.options.__source="src/views/base/contact/index.vue"},u=c,p=Object(d["a"])(m,i,r,!1,null,null,null);"function"===typeof u&&u(p);t["default"]=p.exports},"9dd7":function(e,t,a){}}]);