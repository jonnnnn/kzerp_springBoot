(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cb6f8a46","chunk-4c837158","chunk-2d0dea85"],{"871a":function(e){e.exports=JSON.parse('{"form":{"columns":[{"title":"需求日期","field":"requirementDate","sortable":true,"align":"center","width":"110px"},{"title":"公司编号","field":"companyId","sortable":true,"align":"center","width":"110px"},{"title":"产品Id","field":"productId","sortable":true,"align":"center","width":"110px"},{"title":"仓库Id","field":"warehouseId","sortable":true,"align":"center","width":"110px"},{"title":"保留类型","field":"tranType","sortable":true,"align":"center","width":"110px"},{"title":"需求来源单头Id","field":"demandSourceHeaderId","sortable":true,"align":"center","width":"140px"},{"title":"需求来源行Id","field":"demandSourceLineId","sortable":true,"align":"center","width":"160px"},{"title":"保留量计量单位","field":"reservationUomCode","sortable":true,"align":"center","width":"140px"},{"title":"保留数量","field":"reservationQuantity","sortable":true,"align":"center","width":"110px"},{"title":"备注","field":"remark","sortable":true,"align":"center"},{"title":"修改人","field":"updateBy","sortable":true,"align":"center","width":"110px"},{"title":"修改日期","field":"updateDate","sortable":true,"align":"center","width":"110px"}],"input":{"requirementDate":"需求日期","companyId":"公司ID","productId":"产品ID","warehouseId":"仓库ID","tranType":"保留类型","demandSourceHeaderId":"需求来源单头ID","demandSourceLineId":"需求来源行ID","reservationUomCode":"保留量计量单位","reservationQuantity":"保留数量","remark":"备注"}}}')},9966:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,title:e.isNew?e.$t("views.public.add"):e.$t("views.public.update"),"close-on-click-modal":!1,"close-on-press-escape":!1,width:"800px"},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{ref:"dataForm",attrs:{model:e.dataForm,rules:e.rules,"label-width":"120px",inline:!0}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{prop:"id"}}),a("el-form-item",{attrs:{prop:"requirementDate",label:e.data.form.input.requirementDate}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:e.data.form.input.requirementDate},model:{value:e.dataForm.requirementDate,callback:function(t){e.$set(e.dataForm,"requirementDate",t)},expression:"dataForm.requirementDate"}})],1),a("el-form-item",{attrs:{prop:"productId",label:e.data.form.input.productId}},[a("el-input",{attrs:{placeholder:e.data.form.input.productId},model:{value:e.dataForm.productId,callback:function(t){e.$set(e.dataForm,"productId",t)},expression:"dataForm.productId"}})],1),a("el-form-item",{attrs:{prop:"warehouseId",label:e.data.form.input.warehouseId}},[a("el-input",{attrs:{placeholder:e.data.form.input.warehouseId},model:{value:e.dataForm.warehouseId,callback:function(t){e.$set(e.dataForm,"warehouseId",t)},expression:"dataForm.warehouseId"}})],1),a("el-form-item",{attrs:{prop:"tranType",label:e.data.form.input.tranType}},[a("el-input",{attrs:{placeholder:e.data.form.input.tranType},model:{value:e.dataForm.tranType,callback:function(t){e.$set(e.dataForm,"tranType",t)},expression:"dataForm.tranType"}})],1),a("el-form-item",{attrs:{prop:"demandSourceHeaderId",label:e.data.form.input.demandSourceHeaderId}},[a("el-input",{attrs:{placeholder:e.data.form.input.demandSourceHeaderId},model:{value:e.dataForm.demandSourceHeaderId,callback:function(t){e.$set(e.dataForm,"demandSourceHeaderId",t)},expression:"dataForm.demandSourceHeaderId"}})],1),a("el-form-item",{attrs:{prop:"demandSourceLineId",label:e.data.form.input.demandSourceLineId}},[a("el-input",{attrs:{placeholder:e.data.form.input.demandSourceLineId},model:{value:e.dataForm.demandSourceLineId,callback:function(t){e.$set(e.dataForm,"demandSourceLineId",t)},expression:"dataForm.demandSourceLineId"}})],1),a("el-form-item",{attrs:{prop:"reservationUomCode",label:e.data.form.input.reservationUomCode}},[a("el-input",{attrs:{placeholder:e.data.form.input.reservationUomCode},model:{value:e.dataForm.reservationUomCode,callback:function(t){e.$set(e.dataForm,"reservationUomCode",t)},expression:"dataForm.reservationUomCode"}})],1),a("el-form-item",{attrs:{prop:"reservationQuantity",label:e.data.form.input.reservationQuantity}},[a("el-input",{attrs:{placeholder:e.data.form.input.reservationQuantity},model:{value:e.dataForm.reservationQuantity,callback:function(t){e.$set(e.dataForm,"reservationQuantity",t)},expression:"dataForm.reservationQuantity"}})],1),a("el-form-item",{attrs:{prop:"remark",label:e.data.form.input.remark}},[a("el-input",{attrs:{placeholder:e.data.form.input.remark},model:{value:e.dataForm.remark,callback:function(t){e.$set(e.dataForm,"remark",t)},expression:"dataForm.remark"}})],1)],1)],1)},o=[],i=a("871a"),d=a("e1a58"),n={mixins:[d["a"]],data:function(){return{mixinViewModuleOptions:{getDataListURL:"/base/reservation/list",updateURL:"/base/reservation/save",getDataListIsPage:!1,activatedIsNeed:!1},data:i,visible:!1,dataForm:{requirementDate:void 0,companyId:void 0,productId:void 0,warehouseId:void 0,tranType:void 0,demandSourceHeaderId:void 0,demandSourceLineId:void 0,reservationUomCode:void 0,reservationQuantity:void 0,remark:void 0},rules:{name:[{required:!0,message:"名称不可缺少"}],code:[{required:!0,message:"编码不可缺少"}]}}},methods:{init:function(){var e=this;this.visible=!0,this.$nextTick((function(){e.$refs["dataForm"].resetFields(),e.dataForm.id&&(e.dataForm.id=void 0),e.$refs["dataForm"].clearValidate()}))},update:function(e){var t=this;this.visible=!0,this.$nextTick((function(){t.dataForm=Object.assign({},e),t.$refs["dataForm"].clearValidate()}))},dataFormSubmitHandle:function(){var e=this,t=this;this.$refs["dataForm"].validate((function(a){if(!a)return!1;t.$axios({url:"/base/reservation/save",method:"post",data:t.dataForm}).then((function(t){e.$message({message:e.$t("views.public.success"),type:"success",duration:500,onClose:function(){e.visible=!1,e.$emit("refreshDataList")}})})).catch((function(){}))}))}}},s=n,l=a("623f"),u=function(e){e.options.__source="src/views/base/inv/add-or-update.vue"},m=u,c=Object(l["a"])(s,r,o,!1,null,null,null);"function"===typeof m&&m(c);t["default"]=c.exports},fae2:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("d2-container",{staticClass:"mod-sys__user"},[a("el-form",{attrs:{inline:!0,size:"mini",model:e.dataForm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getDataList()}}},[a("el-form-item",[a("el-input",{attrs:{"data-operate":e.dataFormOp.likeOps,placeholder:e.data.form.input.productId,clearable:""},model:{value:e.dataForm.productId,callback:function(t){e.$set(e.dataForm,"productId",t)},expression:"dataForm.productId"}})],1),a("el-form-item",[a("el-input",{attrs:{"data-operate":e.dataFormOp.likeOps,placeholder:e.data.form.input.warehouseId,clearable:""},model:{value:e.dataForm.warehouseId,callback:function(t){e.$set(e.dataForm,"warehouseId",t)},expression:"dataForm.warehouseId"}})],1),a("el-form-item",[a("el-button",{on:{click:function(t){return e.getDataList()}}},[e._v(e._s(e.$t("views.public.query")))])],1)],1),a("d2-crud",{attrs:{columns:e.columns,options:e.options,selectionRow:"",loading:e.dataListLoading,data:e.dataList},on:{"selection-change":e.dataListSelectionChangeHandle,"sort-change":e.dataListSortChangeHandle,"user-update":e.addOrUpdateHandleSetter,"user-delete":e.deleteHandleSetter,"row-dblclick":e.add}}),a("el-pagination",{attrs:{slot:"footer","current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.limit,total:e.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.pageSizeChangeHandle,"current-change":e.pageCurrentChangeHandle},slot:"footer"}),e.addOrUpdateVisible?a("add-or-update",{ref:"addOrUpdate",on:{refreshDataList:e.search}}):e._e()],1)},o=[],i=a("e1a58"),d=a("9966"),n=a("871a"),s={name:"inv",mixins:[i["a"]],data:function(){var e=this;return{data:n,mixinViewModuleOptions:{getDataListURL:"/base/reservation/list",getDataListIsPage:!0,deleteURL:"/base/reservation",deleteIsBatch:!0},dataForm:{productId:void 0,warehouseId:void 0},dataFormOp:{baseOp:"like"},rowHandler:{custom:[{text:this.$t("views.public.update"),type:"primary",size:"mini",emit:"user-update",show:function(t,a){return e.$hasPermission("sys:user:update")}},{text:this.$t("views.public.delete"),type:"danger",size:"mini",emit:"user-delete",show:function(t,a){return e.$hasPermission("sys:user:delete")}}]},columns:n.form.columns}},components:{AddOrUpdate:d["default"]},methods:{}},l=s,u=a("623f"),m=function(e){e.options.__source="src/views/base/inv/index.vue"},c=m,p=Object(u["a"])(l,r,o,!1,null,null,null);"function"===typeof c&&c(p);t["default"]=p.exports}}]);